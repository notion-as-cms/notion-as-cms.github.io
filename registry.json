{
  "$schema": "https://ui.shadcn.com/schema/registry.json",
  "name": "notion-cms",
  "homepage": "https://notion-as-cms.github.io",
  "items": [
    {
      "name": "notion-cms",
      "type": "registry:block",
      "title": "Notion Content CMS",
      "description": "A flexible content system powered by Notion. Supports multiple content sources (blog, changelog, updates, etc.) with pagination, tag filtering, syntax highlighting, and full-featured content rendering. Built with Next.js App Router, React Server Components, and Fumadocs UI.",
      "registryDependencies": [
        "button"
      ],
      "dependencies": [
        "@notionhq/client@3.1.1",
        "notion-compat@7.3.0",
        "notion-utils@7.3.0",
        "notion-types@7.3.0",
        "react-notion-x@7.3.0",
        "fumadocs-ui@16.0.7",
        "fumadocs-core@16.0.7",
        "lucide-react@0.511.0",
        "prismjs@1.30.0",
        "@types/prismjs@1.26.5"
      ],
      "envVars": {
        "NOTION_API_KEY": ""
      },
      "files": [
        {
          "path": "registry/default/notion-cms/components/content-page.tsx",
          "type": "registry:component",
          "target": "components/notion/content-page.tsx"
        },
        {
          "path": "registry/default/notion-cms/components/content-list.tsx",
          "type": "registry:component",
          "target": "components/notion/content-list.tsx"
        },
        {
          "path": "registry/default/notion-cms/components/item-list.tsx",
          "type": "registry:component",
          "target": "components/notion/item-list.tsx"
        },
        {
          "path": "registry/default/notion-cms/components/pagination.tsx",
          "type": "registry:component",
          "target": "components/notion/pagination.tsx"
        },
        {
          "path": "registry/default/notion-cms/components/renderer.tsx",
          "type": "registry:component",
          "target": "components/notion/renderer.tsx"
        },
        {
          "path": "registry/default/notion-cms/lib/config.ts",
          "type": "registry:lib",
          "target": "lib/notion/config.ts"
        },
        {
          "path": "registry/default/notion-cms/lib/notion-client.ts",
          "type": "registry:lib",
          "target": "lib/notion/notion-client.ts"
        },
        {
          "path": "registry/default/notion-cms/lib/notion.ts",
          "type": "registry:lib",
          "target": "lib/notion/notion.ts"
        },
        {
          "path": "registry/default/notion-cms/lib/notion-mappers.ts",
          "type": "registry:lib",
          "target": "lib/notion/notion-mappers.ts"
        },
        {
          "path": "registry/default/notion-cms/lib/notion-utils.ts",
          "type": "registry:lib",
          "target": "lib/notion/notion-utils.ts"
        },
        {
          "path": "registry/default/notion-cms/lib/page-utils.ts",
          "type": "registry:lib",
          "target": "lib/notion/page-utils.ts"
        },
        {
          "path": "registry/default/notion-cms/lib/static-params.ts",
          "type": "registry:lib",
          "target": "lib/notion/static-params.ts"
        },
        {
          "path": "registry/default/notion-cms/lib/search.ts",
          "type": "registry:lib",
          "target": "lib/notion/search.ts"
        },
        {
          "path": "registry/default/notion-cms/types/notion.ts",
          "type": "registry:lib",
          "target": "types/notion.ts"
        },
        {
          "path": "notion.config.ts",
          "type": "registry:file",
          "target": "notion.config.ts"
        },
        {
          "path": "app/(home)/blog/[[...slug]]/page.tsx",
          "type": "registry:page",
          "target": "app/blog/[[...slug]]/page.tsx"
        },
        {
          "path": "app/(home)/blog/layout.tsx",
          "type": "registry:page",
          "target": "app/blog/layout.tsx"
        },
        {
          "path": ".env.example",
          "type": "registry:file",
          "target": "~/.env.example"
        }
      ],
      "docs": "## Setup Instructions\n\n### 1. Install the Component\n\n```bash\nnpx shadcn@latest add https://notion-as-cms.github.io/r/notion-cms.json\n```\n\nThis will:\n- Install all required dependencies\n- Create components in `components/notion/`\n- Create library utilities in `lib/notion/`\n- Create type definitions in `types/`\n- Create `notion.config.ts` for configuration\n- Create example app pages in `app/blog/`\n\n### 2. Configure Notion Integration\n\n1. **Create a Notion Integration:**\n   - Go to https://www.notion.so/my-integrations\n   - Click \"+ New integration\"\n   - Give it a name (e.g., \"My CMS\")\n   - Copy the \"Internal Integration Token\"\n\n2. **Create your databases:**\n   \n   **Content Database** (e.g., Blog Posts) with these properties:\n   - Name (title)\n   - Description (rich_text)\n   - Slug (rich_text)\n   - Date (date)\n   - Author (people)\n   - Tags (relation to Tags database - optional)\n   - Published (status with \"Done\" option)\n   \n   **Tags Database** (optional) with these properties:\n   - Name (title)\n   - Slug (rich_text)\n\n3. **Share databases with your integration:**\n   - Open each database in Notion\n   - Click \"...\" â†’ \"Add connections\"\n   - Select your integration\n\n4. **Get database IDs:**\n   - Open each database as a full page\n   - Copy the ID from the URL: `notion.so/{workspace}/{DATABASE_ID}?v=...`\n\n### 3. Configure Environment Variables\n\nCreate a `.env.local` file:\n\n```bash\nNOTION_API_KEY=secret_xxxxxxxxxxxxx\nNOTION_BLOG_DATABASE_ID=xxxxxxxxxxxxx\nNOTION_TAG_DATABASE_ID=xxxxxxxxxxxxx\n```\n\n### 4. Configure notion.config.ts\n\nEdit `notion.config.ts` to define your content sources:\n\n```typescript\nimport { defineNotionConfig } from '@/lib/notion/config';\n\nexport default defineNotionConfig({\n  apiKey: process.env.NOTION_API_KEY!,\n  sources: {\n    blog: {\n      databaseId: process.env.NOTION_BLOG_DATABASE_ID!,\n      tagDatabaseId: process.env.NOTION_TAG_DATABASE_ID,\n      basePath: '/blog',\n      postsPerPage: 6,\n    },\n    // Add more sources for changelog, updates, etc.\n    // changelog: {\n    //   databaseId: process.env.NOTION_CHANGELOG_DATABASE_ID!,\n    //   basePath: '/changelog',\n    //   postsPerPage: 10,\n    // },\n  },\n});\n```\n\n### 5. Add Required Styles\n\nAdd react-notion-x styles to your global CSS:\n\n```css\n@import 'react-notion-x/src/styles.css';\n@import 'prismjs/themes/prism-tomorrow.css';\n```\n\n### 6. Usage\n\nThe catch-all route at `app/blog/[[...slug]]/page.tsx` handles:\n- `/blog` - Content listing (paginated)\n- `/blog/page/2` - Pagination\n- `/blog/{slug}` - Individual content pages\n- `/blog/tag/{tag-slug}` - Content by tag (if tags configured)\n- `/blog/tag/{tag-slug}/page/2` - Tag pagination\n\n### 7. Multiple Content Sources\n\nTo add another source (e.g., changelog):\n\n1. Add the source to `notion.config.ts`\n2. Copy the blog page route to a new location (e.g., `app/changelog/[[...slug]]/page.tsx`)\n3. Change the source reference: `const source = notionConfig.sources.changelog;`\n\n### 8. Build and Deploy\n\n```bash\nnpm run build\n```\n\nAll content is statically generated at build time."
    }
  ]
}
